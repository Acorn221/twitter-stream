{% extends "base.jinja" %} {% block title %}Twitter Wall: Admin Panel{% endblock
%} {% block content %}

<style>
	#header {
		background: var(--color-4);
		position: sticky;
		top: 0;
	}
	#header > h1 {
		font-size: 3rem;
		text-align: center;
	}
	#filterButtons {
		display: flex;
		justify-content: space-around;
	}
	#filterButtons > a {
		padding: 10px 15px;
		margin: 10px;
		background: var(--color-2);
		text-decoration: none;
		border-radius: 8px;
		transition: color 0.2s, background 0.2s;
	}
	#filterButtons > a.active {
		background: var(--color-11);
	}
	#filterButtons > a:hover {
		background: var(--color-6);
		color: var(--color-1);
	}
	#tweets {
		display: flex;
		flex-direction: column;
		align-items: center;
	}
	.tweet {
		width: 70%;
	}
</style>

<div id="header">
	<h1>ADMIN PANEL</h1>

	<div id="filterButtons">
		<a href=""> Refresh Tweet Database </a>

		{% set filter_buttons = [ ('all', 'All Tweets'), ('good', 'Authorized'),
		('bad', 'Black Listed') ] -%} {% for filter, text in filter_buttons %}
        <a {%if filter==filter_type %} class="active" {% endif %} href="/panel?filter={{filter}}">{{text}}</a>
		{% endfor %}
	</div>
</div>

<div id="tweets">
	{% for tweet in tweets %}
	<div class="tweet {%if tweet['AUTHORIZED']==0%}bad{%endif%}">
		<p>{{tweet['TWEET_TEXT']}}</p>
		<p>{{tweet['TWEET_AUTHOR_USERNAME']}}</p>
		<p>{{tweet['TWEET_AUTHOR_NAME']}}</p>
		<form
			action="/update_tweet_auth?id={{tweet['TWEET_ID']}}&auth={{(tweet['AUTHORIZED']+1)%2}}"
			method="post">
			<input
				type="submit"
				value="{%if tweet['AUTHORIZED']==0%}Yes{%else%}No{%endif%}" />
		</form>
	</div>
	{% endfor %}
</div>

{% endblock %}
